# Air Quality Prediction ‚Äî MLOps Course Project

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MLOps-–ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –≤–æ–∑–¥—É—Ö–∞  
–Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è—Ö –∑–∞–≥—Ä—è–∑–Ω—è—é—â–∏—Ö –≤–µ—â–µ—Å—Ç–≤.  

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª:
–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ ‚Üí –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ ‚Üí —É–ø–∞–∫–æ–≤–∫–∞ ‚Üí –¥–µ–ø–ª–æ–π FastAPI —Å–µ—Ä–≤–∏—Å–∞ –≤ Docker.

---

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

mlops-course-project/
‚îÇ
‚îú‚îÄ‚îÄ api/
‚îÇ ‚îú‚îÄ‚îÄ main.py # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ ‚îú‚îÄ‚îÄ schemas.py # Pydantic-—Å—Ö–µ–º—ã –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ ‚îî‚îÄ‚îÄ inference_service.py # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ train.py # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
‚îÇ ‚îú‚îÄ‚îÄ preprocess.py # –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îî‚îÄ‚îÄ inference.py # –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ ‚îú‚îÄ‚îÄ raw/ # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ + prepare.py
‚îÇ ‚îî‚îÄ‚îÄ processed/ # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ
‚îú‚îÄ‚îÄ models/
‚îÇ ‚îî‚îÄ‚îÄ trained_model.pkl # –§–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
‚îÇ
‚îú‚îÄ‚îÄ configs/
‚îÇ ‚îî‚îÄ‚îÄ config.yaml # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ train/inference
‚îÇ
‚îú‚îÄ‚îÄ mlruns/ # –õ–æ–≥–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ MLflow
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ MODEL_CARD.md
‚îú‚îÄ‚îÄ DATASET_CARD.md
‚îî‚îÄ‚îÄ README.md


---

#  –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

## 1. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

```bash
docker build -t air-quality-inference .

2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker run -p 8000:8000 air-quality-inference


–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000
Swagger UI: http://localhost:8000/docs

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API
/health

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω.

–ü—Ä–∏–º–µ—Ä:

curl http://localhost:8000/health

/predict

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–≥—Ä—è–∑–Ω—è—é—â–∏—Ö –≤–µ—â–µ—Å—Ç–≤.

–ü—Ä–∏–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞:

{
  "PM2_5": 81.40,
  "PM10": 124.50,
  "NO": 1.44,
  "NO2": 20.50,
  "NOx": 12.08,
  "NH3": 10.72,
  "CO": 0.12,
  "SO2": 15.24,
  "O3": 127.09,
  "Benzene": 0.20,
  "Toluene": 6.50,
  "Xylene": 0.06
}


–û—Ç–≤–µ—Ç:

{
  "prediction": 186.9
}

–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è: python src/train.py


–í –ø—Ä–æ—Ü–µ—Å—Å–µ:

–≥—Ä—É–∑—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ

–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞

—Å–ø–ª–∏—Ç train/test

–º–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è

–ª–æ–≥–∏—Ä—É–µ—Ç—Å—è MSE

–º–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤:
‚Üí models/trained_model.pkl

üß™ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ ‚Äî MLflow

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MLflow:

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (MSE)

–•—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

–ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤: Linear Regression, Random Forest, LightGBM

–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥–∞

–ó–∞–ø—É—Å–∫ MLflow UI:

mlflow ui


–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ http://127.0.0.1:5000

‚öô –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å—ë —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ ‚Äî –≤ configs/config.yaml:

train:
  dataset_path: data/processed/air_quality.csv
  target_column: PM2.5
  model_type: random_forest
  test_size: 0.2
  random_state: 42

üß∞ CI/CD (–ß–∞—Å—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –±–∞–ª–ª–æ–≤)

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å GitHub Actions pipeline:

—Å–æ–±–∏—Ä–∞–µ—Ç Docker-–æ–±—Ä–∞–∑

–∑–∞–ø—É—Å–∫–∞–µ—Ç healthcheck

–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

–§–∞–π–ª:
.github/workflows/ci.yml

üßæ –î–æ–ø. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

DATASET_CARD.md ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

MODEL_CARD.md ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ /predict

–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞
